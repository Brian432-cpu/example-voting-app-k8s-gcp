# ğŸš€ Ultimate Kubernetes Project on GKE

In this Kubernetes project, we will learn how to deploy a **multi-microservice architectured application** on **Google Kubernetes Engine (GKE)**.

---

## ğŸ“¦ Application Code

ğŸ‘‰ [Example Voting App Repository](https://github.com/dockersamples/example-voting-app)

---

## ğŸ§± Architecture
You can visualize the project architecture using **Excalidraw** (or draw your own).

---

## âš™ï¸ Step 1: Enable the Container API

```bash
gcloud services enable container.googleapis.com
```

---

## ğŸ—ï¸ Step 2: Create a GKE Cluster

### Option 1: Create a High Availability (HA) GKE Cluster with 3 Nodes
```bash
gcloud container clusters create my-cluster   --region us-central1   --num-nodes 3   --machine-type e2-standard-4
```

### Option 2: Create a GKE Cluster with Autopilot Mode
*(Google manages the nodes for you)*

```bash
gcloud container clusters create-auto my-autopilot-cluster   --region us-central1
```

---

## ğŸ”— Step 3: Connect to the Cluster

From Cloud Shell or your VM:

```bash
gcloud container clusters get-credentials autopilot-cluster --region us-central1
```

---

## ğŸ§° Step 4: Clone the Git Repository

```bash
git clone https://github.com/dockersamples/example-voting-app.git
cd example-voting-app
```

---

## ğŸš€ Step 5: Run the App on the Cluster

```bash
kubectl apply -f k8s-specifications/
```

### âœ… Verify Deployment
```bash
kubectl get all
```

---

## ğŸŒ Step 6: Access the App Using NodePort

```bash
kubectl port-forward svc/vote 8080:8080
```

Access the app at:  
â¡ï¸ [http://localhost:8080](http://localhost:8080)

---

## ğŸŒ Step 7: Expose the App Using Ingress

### Step 7.1: Create Ingress Resource

```bash
kubectl create namespace ingress-nginx

helm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx
helm repo update
helm install ingress-nginx ingress-nginx/ingress-nginx   --namespace ingress-nginx   --set controller.service.type=LoadBalancer
```

---

### Step 7.2: Deploy Voting App Ingress

```yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: vote-ingress
spec:
  ingressClassName: nginx
  rules:
  - http:
      paths:
      - path: /
        pathType: Prefix
        backend:
          service:
            name: vote
            port:
              number: 8080
```

---

### Step 7.3: Deploy Result App Ingress

```yaml
apiVersion: networking.k8s.io/v1
kind: Ingress
metadata:
  name: result-ingress
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
spec:
  ingressClassName: nginx
  rules:
  - http:
      paths:
      - path: /result
        pathType: Prefix
        backend:
          service:
            name: result
            port:
              number: 8081
```

---

### Step 7.4: Verify Ingress and Access the Apps

```bash
kubectl get ingress
```

Once the LoadBalancer IP is available, open the app in your browser ğŸ‰

---

## ğŸ Conclusion

You have successfully deployed a **multi-microservice application** on **Google Kubernetes Engine** using **Ingress** and **Helm**.

---

ğŸ‘¨â€ğŸ’» **Author:** Brian Sumba  
ğŸ“‚ **Repository:** [Helpful Python Scripts](https://github.com/Brian432-cpu/Helpful-python-scripts)
